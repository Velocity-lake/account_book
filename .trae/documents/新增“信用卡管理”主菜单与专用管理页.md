## 我对问题的理解

* 你在“收入类别占比”看到标签显示 100%，理论上应是完整的扇形，但画面没有饼图。说明数据存在且只有一个类别，却未绘制出扇形。

* 结合当前实现（`ui_dashboard.py:699-740`），最可能原因是首渲染时 `Canvas` 尺寸仍偏小，导致计算出的半径 `r = int(min(w-40, h-60)/2)` 变为 0 或负数；标签仍会绘制（基于 `r+18`），但扇形因半径过小而不可见。

## 修改方案

1. 半径下限保护：

* 将半径计算改为 `r = max(20, int(min(w-40, h-60)/2))`，保证至少 20px 的可见扇形。

1. 极端尺寸占位：

* 若 `w < 80` 或 `h < 80`，直接居中显示 `暂无数据`，避免在极小画布尝试绘制。

## 验证

* 在显示 100% 的场景下应得到一个完整的红/绿扇形饼图；缩放窗口或首次启动时也能稳定绘制，不再出现只有标签没有饼图的情况。

