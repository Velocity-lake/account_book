## 目标
- 在“记录账单”页面中，让“支出/收入”分类网格保持每个格子固定宽度，同时整体根据窗口宽度自适应调整每行列数与布局。

## 现状
- 分类网格由 `ui_record_page.py:108–127` 的 `build_category_grid` 构建，固定 `cols = 6`，容器仅 `pack(fill=tk.X)`，列未设置权重或最小宽度，网格不随窗口宽度自适应。
- 单元格使用 `tk.Label`，通过 `sticky=tk.EW` 铺满列，但列没有自适应配置。

## 技术方案
- 固定单元格宽度：
  - 采用像素级固定列最小宽度：对每列设置 `minsize = CELL_WIDTH_PX`（例如 140px），并让单元格居中显示；为长文本设置 `wraplength` 控制换行。
- 自适应列数：
  - 绑定容器 `<Configure>` 事件，根据容器当前宽度计算列数：`new_cols = max(1, grid_width // (CELL_WIDTH_PX + h_gap))`。
  - 当列数变化时，重建分类网格（避免频繁重建，记录当前列数 `self._category_cols`）。
- 容器可扩展：
  - 将分类网格容器 `pack(fill=tk.BOTH, expand=True)`，使其在窗口变化时触发 `<Configure>` 并能正确获取宽度。

## 代码改动点
- `ui_record_page.py:108–127`（`build_category_grid`）：
  - 新增常量（类级或方法内）：`CELL_WIDTH_PX = 140`，`H_GAP = 12`。
  - 创建 `grid` 后：`grid.pack(fill=tk.BOTH, expand=True)`。
  - 计算初始列数（若首次宽度未知，先用经验值，如 4 列），并为每列执行：`grid.columnconfigure(i, minsize=CELL_WIDTH_PX, weight=0)`。
  - `tk.Label` 设置：`anchor=tk.CENTER`，`wraplength=CELL_WIDTH_PX - 16`，必要时使用 `width`（字符数）以稳定视觉宽度。
  - 绑定 `<Configure>`：在回调中根据 `grid.winfo_width()` 计算 `new_cols`，若与 `self._category_cols` 不同则销毁并按新列数重建按钮布局（同时包含“＋ 添加类别”按钮）。
- `ui_record_page.py:87–107`（`switch_scene`）：
  - 保持现有清理与重建逻辑，确保切换“支出/收入”时使用上述自适应构建。

## 验证
- 启动应用，进入“记录账单”（`ui_main.py:35` 入口按钮）。
- 在不同窗口宽度下缩放：
  - 每个分类格子保持固定宽度；
  - 每行列数随宽度变化（如窄窗口 2–3 列，宽窗口 6–8 列）；
  - 文本过长按 `wraplength` 换行不溢出。
- 测试“收入/支出”两种场景以及“＋ 添加类别”按钮的行为一致。

## 兼容性与注意
- 保留现有选中态背景（`select_category`）与事件绑定（点击、右键、双击）。
- 若未来统一风格到 `ttk`，可将 `tk.Label` 替换为 `ttk.Button` 并在 `theme.py` 增设样式，但本次仅聚焦宽度与自适应，无需变更控件类型。