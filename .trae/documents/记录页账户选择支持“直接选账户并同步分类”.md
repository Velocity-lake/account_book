## 目标

* 在“记录账单”（支出/收入/转账）中，账户下拉可直接列出所有账户名，选择后自动同步上方“账户分类”。

* 保留现有按“账户分类→账户”的筛选逻辑；两种方式互相联动。

## 现状

* 文件：`ui_record_page.py`

* 控件：

  * 支出/收入：`cb_acc_group`（账户分类），`cb_account`（账户）

  * 转账：`cb_from_group/cb_from` 与 `cb_to_group/cb_to`

* 逻辑：先选分类，再通过 `_update_accounts_by_group()` 填充账户下拉。

## 调整方案

* 初始填充：

  * `cb_account`/`cb_from`/`cb_to` 直接填充所有账户名（`get_account_names(load_state())`）。

  * `cb_acc_group`/`cb_from_group`/`cb_to_group` 填充账户类型列表（`get_account_types(load_state())`）。

* 联动规则：

  * 选中“账户分类”：按该分类过滤账户下拉；清空分类则显示所有账户。

  * 选中“账户”：自动将“账户分类”置为该账户的类型（`find_account(state, name).type`）。

* 代码实现：

  * 新增方法：`_fill_all_accounts()` 为支出/收入；`_fill_all_transfer_accounts()` 为转账。

  * 修改 `_update_accounts_by_group()`：当无分类或清空时显示全部账户；否则按分类过滤（使用 `list_accounts_by_type(state)`）。

  * 修改 `_on_account_change()`：设置 `self.account` 并同步 `cb_acc_group` 为该账户类型（避免循环触发，用抑制标记）。

  * 修改 `_update_transfer_accounts(side)`：同上逻辑应用到 `from/to` 两侧，并绑定账户选择后同步 `cb_from_group/ cb_to_group`。

* 抑制标记：

  * 新增布尔标记 `self._suppress_group_update`，在程序性设置 group 时不触发二次筛选，避免循环。

## 影响范围

* 仅 `ui_record_page.py`；不影响账单保存或其他页面逻辑。

## 验证

* 支出/收入：直接从账户下拉选择账户，分类自动同步；切换分类后账户下拉过滤正确。

* 转账：`转出账户/转入账户` 下拉直接选择账户，分类自动同步；分类切换时账户过滤正确。

* 空分类时账户下拉显示全部账户。

