## 目标

* 将“账户管理”中的大类别（分组行）显示为粗体黑色。

* 大类别的文案使用横杠分隔：例如“活期 - 3个账户”。

* 只有右击大类别时才出现“新增账户”，右击普通账户不再出现“新增账户”。

## 现状确认

* 分组与数据填充在 `ui_account_manager.py:49-81, 64-79`；分组标签当前为“类型（X个账户）”。

* 右键菜单绑定与逻辑在 `ui_account_manager.py:41-46, 435-451`；目前普通账户也有“新增账户”。

* 分组标签用于新增时的类型解析在 `ui_account_manager.py:452-461`；当前按中文括号“（”进行分割。

* Treeview 全局样式在 `theme.py:67-69`；局部负数红色标签在 `ui_account_manager.py:41`。

## 改动点

* 分组行样式：在 `build_ui` 中新增分组标签样式配置

  * 添加：`self.tree.tag_configure('group', foreground='#000000', font=('Segoe UI', 11, 'bold'))`（粗体黑色）。

  * 说明：确保仅分组行使用该标签；子账户行样式保持不变（负值仍用 `negative` 标签）。

* 分组行插入：在 `refresh` 插入分组节点时

  * 将分组标签从中文括号改为横杠：`label = f"{typ} - {counts.get(typ,0)}个账户"`。

  * 取消对分组行的 `negative` 标签应用，始终使用 `tags=('group',)`，避免分组行被负数红色覆盖。

* 右键菜单逻辑：在 `on_right_click`

  * 保持分组行（`parent == ""`）菜单含“新增账户”。

  * 在普通账户分支移除“新增账户”项，仅保留“编辑”和“新增记账”。

* 分组类型解析：在 `on_add_in_group`

  * 将 `typ = label.split('（')[0].strip()` 改为按横杠解析：`typ = label.split('-')[0].strip()`。

  * 兼容性可选（如需保留旧数据的兼容）：若包含“（”则优先按“（”分割，否则按“-”分割。

## 代码定位

* `ui_account_manager.py:35-48` 构建 Treeview，可安全添加 `group` 标签配置。

* `ui_account_manager.py:64-69` 分组节点插入，修改 `label` 及 `tags`。

* `ui_account_manager.py:435-451` 右键菜单，删除普通账户的“新增账户”。

* `ui_account_manager.py:452-455` 新增账户时的类型解析，改用横杠分割。

## 验证

* 启动应用后进入“账户管理”：分组标题显示为粗体黑色，文案形如“类型 - X个账户”。

* 右击分组标题：弹出菜单含“新增账户”；右击普通账户：不再出现“新增账户”，仍可“编辑”“新增记账”。

* 新增账户（在某分组下右击分组新增）：新账户默认类型为该分组类型；刷新后显示正确。

* 负数余额账户仍显示为红色；分组行不受负数红色影响。

