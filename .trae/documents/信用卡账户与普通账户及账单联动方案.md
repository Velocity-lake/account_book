## 我对你的意思的理解
- 记账时若选择某张“信用卡”作为支付账户：该笔支出不动用现金账户，而是增加该信用卡的负债（余额更负），并将账单归属到该卡；该卡的账期与还款规则用于后续统计。
- 还款时：从现金/储蓄账户转出资金、并冲减对应信用卡负债；账单与账户余额同时联动更新。
- 重命名或删除信用卡：历史账单对该账户的引用需联动更新（系统已有重命名联动；删除保持账单引用不自动移除）。

## 变更与实现点
- 交易类型支持“还款”：
  - 在可选交易类型中加入“还款”，并在类型归一化中识别；用于明确“偿还信用卡”这一资金流。
  - 影响位置：`models.py`（`TRANSACTION_TYPES`）、`utils.py`（`normalize_ttype`）、`ui_add_dialog.py`/`ui_bill_list.py` 的类型选择框。
- 资金流规则与余额联动：
  - 支出（ttype=支出）：若账户类型为“信用卡”，则仅该卡余额减少（更负），现金账户不变；其他账户支出照旧减少余额。
  - 还款（ttype=还款）：从`from_account`（现金/储蓄）扣减金额，同时为信用卡`to_account`增加金额（负债向零回归）。
  - 现状：`storage.py:337-364` 已实现“还款”对两账户的联动；“支出”对所选账户扣减已生效，信用卡作为账户类型自然适配为“增加负债”。
- 信用卡页与账单页联动：
  - 在“信用卡管理”中双击某卡，打开账单列表对话框并自动按该卡过滤（参考账户管理已有双击行为）。
  - 在信用卡页显示“今日账期天数”，并可进入本期账单视图（按卡+账期窗口过滤）。
- 导入与记账辅助：
  - 导入银行信用卡账单时自动识别来源并填充为对应信用卡账户（已有来源字段与账户匹配逻辑，可按卡名/后四位匹配增强）。
  - 记账对话框中，当选择账户为“信用卡”时，默认交易类型切换为“支出”（可手动改为“还款”并启用`from_account`选择）。

## 数据与兼容
- 账户模型已包含信用卡字段且向后兼容；账单记录仍使用现有结构（`account`/`to_account`/`from_account`）。
- 重命名联动已在 `storage.py:307-317` 实现；删除保持账单引用不自动清理（沿用既有策略）。

## 验证与体验
- 用一张信用卡分别录入“支出”和“还款”各一笔，观察账单与两账户余额的变化（信用卡负债上升后再下降）。
- 信用卡页双击进入该卡账单列表，筛选应正确；“今日账期天数”排序正常。

## 需要你确认
- 是否同意将“还款”加入交易类型，并按上述资金流联动规则实现？
- 记账对话框默认行为：选择信用卡时默认`ttype=支出`，改为“还款”后需选择`from_account`，你是否接受？
- 信用卡页双击打开账单列表并自动过滤的交互是否符合你的预期？

请确认是否同意以上方案；你同意后我将开始修改程序。