## 现状
- 编辑弹窗 `AddTransactionDialog` 的“消费类别”为纯输入框（`ui_add_dialog.py:27-31`），无法直接选择现有类别。
- 类别清单来源为存储 `state["categories"][scene]`，按“所属类别”（收入/支出/报销类）区分（`storage.py:277-286`）。

## 目标
- 把“消费类别”改为 `ttk.Combobox`：下拉展示与账单列表一致的类别；同时允许手动输入自定义类别。
- 下拉数据随“所属类别”选择联动（收入→显示收入类别，支出→显示支出类别）。
- 点击“确定”后，若是自定义新类别，保存记录并在账单列表中即时可用（此前已在 `on_edit` 中实现新增至类别清单）。

## 技术实现
- `ui_add_dialog.py`
  1. 导入：`from storage import get_categories, load_state`，以及 `from utils import normalize_ttype`。
  2. UI改造：将 `self.e_category = ttk.Entry` 替换为 `self.cb_category = ttk.Combobox(..., state="normal")`，保留同一网格位置。
  3. 初始值：若 `initial` 提供，`self.cb_category.set(initial.get("category",""))`。
  4. 联动刷新：在 `on_type_change` 中，根据当前 `ttype` 归一化为场景（收入/支出/报销类），调用 `get_categories(load_state(), scene)` 填充 `self.cb_category["values"]`；若当前输入为空且存在列表，默认选第一项但不覆盖已有输入。
  5. 提交：`on_ok` 改为读取 `self.cb_category.get()` 作为 `result["category"]`。
- 不改其他逻辑（账户、转账区、校验等），避免行为变化。

## 验证
- 用例：编辑“支出”记录，打开下拉能看到现有支出类别；手动输入新类别后点击“确定”，记录保存且类别清单在账单列表与记录页均更新（依赖已实现的 `on_edit` 中 `add_category`）。
- 用例：切换“所属类别”为“收入/报销类收入”，下拉动态显示对应类别。
- 编译检查：运行 `python -m compileall -q .` 验证语法无误。

确认后我将按上述步骤修改 `ui_add_dialog.py` 并进行编译验证。